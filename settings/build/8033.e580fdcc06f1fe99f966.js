"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[8033,9091,9758,5228,4759],{99091:(e,t,n)=>{n.r(t),n.d(t,{UseCookieScanData:()=>c});var r=n(81621),a=n(9588);const c=(0,r.vt)(((e,t)=>({initialLoadCompleted:!1,setInitialLoadCompleted:t=>e({initialLoadCompleted:t}),iframeLoaded:!1,loading:!1,nextPage:!1,progress:0,cookies:[],lastLoadedIframe:"",setIframeLoaded:t=>e({iframeLoaded:t}),setLastLoadedIframe:t=>e((e=>({lastLoadedIframe:t}))),setProgress:t=>e({progress:t}),fetchProgress:()=>(e({loading:!0}),a.doAction("get_scan_progress",{}).then((t=>(e({initialLoadCompleted:!0,loading:!1,nextPage:t.next_page,progress:t.progress,cookies:t.cookies}),t))))})))},79758:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(51609),a=n(86087),c=n(9588),s=n(4219),l=n(52043),o=n(56427),i=n(99091),d=n(32828);const u=(0,a.memo)((({type:e="action",style:t="tertiary",label:n,onClick:u,href:p="",target:m="",disabled:f,action:h,field:b,children:g})=>{if(!n&&!g)return null;const _=(b&&b.button_text?b.button_text:n)||g,{fetchFieldsData:y,showSavedSettingsNotice:k}=(0,s.default)(),{setInitialLoadCompleted:E,setProgress:v}=(0,i.UseCookieScanData)(),{setProgressLoaded:w}=(0,d.default)(),{selectedSubMenuItem:A}=(0,l.default)(),[C,N]=(0,a.useState)(!1),S=`button cmplz-button button--${t} button-${e}`,z=async e=>{await c.doAction(b.action,{}).then((e=>{e.success&&(y(A),"reset_settings"===e.id&&(E(!1),v(0),w(!1)),k(e.message))}))},I=b&&b.warn?b.warn:"";return"action"===e?(0,r.createElement)(r.Fragment,null,o.__experimentalConfirmDialog&&(0,r.createElement)(o.__experimentalConfirmDialog,{isOpen:C,onConfirm:async()=>{N(!1),await z()},onCancel:()=>{N(!1)}},I),(0,r.createElement)("button",{className:S,onClick:async t=>{if("action"!==e||!u)return"action"===e&&h?o.__experimentalConfirmDialog?void(b&&b.warn?N(!0):await z()):void await z():void(window.location.href=b.url);u(t)},disabled:f},_)):"link"===e?(0,r.createElement)("a",{className:S,href:p,target:m},_):void 0}))},81366:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var r=n(51609),a=n(58168),c=n(91071),s=n(62133),l=n(9957),o=n(81351),i=n(85357),d=n(31769),u=n(7971),p=n(12579);const m="Checkbox",[f,h]=(0,s.A)(m),[b,g]=f(m),_=(0,r.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:d,required:u,disabled:m,value:f="on",onCheckedChange:h,...g}=e,[_,v]=(0,r.useState)(null),w=(0,c.s)(t,(e=>v(e))),A=(0,r.useRef)(!1),C=!_||Boolean(_.closest("form")),[N=!1,S]=(0,o.i)({prop:i,defaultProp:d,onChange:h}),z=(0,r.useRef)(N);return(0,r.useEffect)((()=>{const e=null==_?void 0:_.form;if(e){const t=()=>S(z.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[_,S]),(0,r.createElement)(b,{scope:n,state:N,disabled:m},(0,r.createElement)(p.sG.button,(0,a.A)({type:"button",role:"checkbox","aria-checked":k(N)?"mixed":N,"aria-required":u,"data-state":E(N),"data-disabled":m?"":void 0,disabled:m,value:f},g,{ref:w,onKeyDown:(0,l.m)(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:(0,l.m)(e.onClick,(e=>{S((e=>!!k(e)||!e)),C&&(A.current=e.isPropagationStopped(),A.current||e.stopPropagation())}))})),C&&(0,r.createElement)(y,{control:_,bubbles:!A.current,name:s,value:f,checked:N,required:u,disabled:m,style:{transform:"translateX(-100%)"}}))})),y=e=>{const{control:t,checked:n,bubbles:c=!0,...s}=e,l=(0,r.useRef)(null),o=(0,i.Z)(n),u=(0,d.X)(t);return(0,r.useEffect)((()=>{const e=l.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==n&&r){const t=new Event("click",{bubbles:c});e.indeterminate=k(n),r.call(e,!k(n)&&n),e.dispatchEvent(t)}}),[o,n,c]),(0,r.createElement)("input",(0,a.A)({type:"checkbox","aria-hidden":!0,defaultChecked:!k(n)&&n},s,{tabIndex:-1,ref:l,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function k(e){return"indeterminate"===e}function E(e){return k(e)?"indeterminate":e?"checked":"unchecked"}const v=_,w=(0,r.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,forceMount:c,...s}=e,l=g("CheckboxIndicator",n);return(0,r.createElement)(u.C,{present:c||k(l.state)||!0===l.state},(0,r.createElement)(p.sG.span,(0,a.A)({"data-state":E(l.state),"data-disabled":l.disabled?"":void 0},s,{ref:t,style:{pointerEvents:"none",...e.style}})))}));var A=n(27723),C=n(45111),N=n(86087),S=n(79758);const z=(0,N.memo)((({indeterminate:e,label:t,value:n,id:a,onChange:c,required:s,disabled:l,options:o={}})=>{const[i,d]=(0,N.useState)(!1),[u,p]=(0,N.useState)(!1);let m=n;Array.isArray(m)||(m=""===m?[]:[m]),(0,N.useEffect)((()=>{let e=1===Object.keys(o).length&&"true"===Object.keys(o)[0];d(e)}),[]),e&&(n=!0);const f=m;let h=!1;Object.keys(o).length>10&&(h=!0);const b=e=>i?n:f.includes(""+e)||f.includes(parseInt(e)),g=()=>{p(!u)};let _=l&&!Array.isArray(l);return 0===Object.keys(o).length?(0,r.createElement)(r.Fragment,null,(0,A.__)("No options found","complianz-gdpr")):(0,r.createElement)("div",{className:"cmplz-checkbox-group"},Object.entries(o).map((([o,d],p)=>(0,r.createElement)("div",{key:o,className:"cmplz-checkbox-group__item"+(!u&&p>9?" cmplz-hidden":"")},(0,r.createElement)(v,{className:"cmplz-checkbox-group__checkbox",id:a+"_"+o,checked:b(o),"aria-label":t,disabled:_||Array.isArray(l)&&l.includes(o),required:s,onCheckedChange:e=>((e,t)=>{if(i)c(!n);else{const e=f.includes(""+t)||f.includes(parseInt(t))?f.filter((e=>e!==""+t&&e!==parseInt(t))):[...f,t];c(e)}})(0,o)},(0,r.createElement)(w,{className:"cmplz-checkbox-group__indicator"},(0,r.createElement)(C.default,{name:e?"indeterminate":"check",size:14,color:"dark-blue"}))),(0,r.createElement)("label",{className:"cmplz-checkbox-group__label",htmlFor:a+"_"+o},d)))),!u&&h&&(0,r.createElement)(S.default,{onClick:()=>g()},(0,A.__)("Show more","complianz-gdpr")),u&&h&&(0,r.createElement)(S.default,{onClick:()=>g()},(0,A.__)("Show less","complianz-gdpr")))}))},25228:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(51609),a=n(86087),c=n(45296),s=n(45111),l=n(27723);const o=(0,a.memo)((({value:e=!1,onChange:t,required:n,defaultValue:a,disabled:o,options:i={},canBeEmpty:d=!0,label:u})=>{if(Array.isArray(i)){let e={};i.map((t=>{e[t.value]=t.label})),i=e}return d?(""===e||!1===e||0===e)&&(e="0",i={0:(0,l.__)("Select an option","complianz-gdpr"),...i}):e||(e=Object.keys(i)[0]),(0,r.createElement)("div",{className:"cmplz-input-group cmplz-select-group",key:u},(0,r.createElement)(c.bL,{value:e,defaultValue:a,onValueChange:t,required:n,disabled:o&&!Array.isArray(o)},(0,r.createElement)(c.l9,{className:"cmplz-select-group__trigger"},(0,r.createElement)(c.WT,null),(0,r.createElement)(s.default,{name:"chevron-down"})),(0,r.createElement)(c.UC,{className:"cmplz-select-group__content",position:"popper"},(0,r.createElement)(c.PP,{className:"cmplz-select-group__scroll-button"},(0,r.createElement)(s.default,{name:"chevron-up"})),(0,r.createElement)(c.LM,{className:"cmplz-select-group__viewport"},(0,r.createElement)(c.YJ,null,Object.entries(i).map((([e,t])=>(0,r.createElement)(c.q7,{disabled:Array.isArray(o)&&o.includes(e),className:"cmplz-select-group__item",key:e,value:e},(0,r.createElement)(c.p4,null,t)))))),(0,r.createElement)(c.wn,{className:"cmplz-select-group__scroll-button"},(0,r.createElement)(s.default,{name:"chevron-down"})))))}))},10800:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(51609),a=n(86087),c=n(58168),s=n(9957),l=n(91071),o=n(62133),i=n(81351),d=n(85357),u=n(31769),p=n(12579);const m="Switch",[f,h]=(0,o.A)(m),[b,g]=f(m),_=(0,r.forwardRef)(((e,t)=>{const{__scopeSwitch:n,name:a,checked:o,defaultChecked:d,required:u,disabled:m,value:f="on",onCheckedChange:h,...g}=e,[_,E]=(0,r.useState)(null),v=(0,l.s)(t,(e=>E(e))),w=(0,r.useRef)(!1),A=!_||Boolean(_.closest("form")),[C=!1,N]=(0,i.i)({prop:o,defaultProp:d,onChange:h});return(0,r.createElement)(b,{scope:n,checked:C,disabled:m},(0,r.createElement)(p.sG.button,(0,c.A)({type:"button",role:"switch","aria-checked":C,"aria-required":u,"data-state":k(C),"data-disabled":m?"":void 0,disabled:m,value:f},g,{ref:v,onClick:(0,s.m)(e.onClick,(e=>{N((e=>!e)),A&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())}))})),A&&(0,r.createElement)(y,{control:_,bubbles:!w.current,name:a,value:f,checked:C,required:u,disabled:m,style:{transform:"translateX(-100%)"}}))})),y=e=>{const{control:t,checked:n,bubbles:a=!0,...s}=e,l=(0,r.useRef)(null),o=(0,d.Z)(n),i=(0,u.X)(t);return(0,r.useEffect)((()=>{const e=l.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==n&&r){const t=new Event("click",{bubbles:a});r.call(e,n),e.dispatchEvent(t)}}),[o,n,a]),(0,r.createElement)("input",(0,c.A)({type:"checkbox","aria-hidden":!0,defaultChecked:n},s,{tabIndex:-1,ref:l,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function k(e){return e?"checked":"unchecked"}const E=_,v=(0,r.forwardRef)(((e,t)=>{const{__scopeSwitch:n,...a}=e,s=g("SwitchThumb",n);return(0,r.createElement)(p.sG.span,(0,c.A)({"data-state":k(s.checked),"data-disabled":s.disabled?"":void 0},a,{ref:t}))}));var w=n(4219);const A=(0,a.memo)((({value:e,onChange:t,required:n,disabled:a,className:c,label:s,id:l})=>{const{getField:o}=(0,w.default)();let i=e;return"0"!==e&&"1"!==e||(i="1"===e),(0,r.createElement)("div",{className:"cmplz-input-group cmplz-switch-group"},(0,r.createElement)(E,{className:"cmplz-switch-root "+c,checked:i,onCheckedChange:e=>{"banner"===o(l).data_target&&(e=e?"1":"0"),t(e)},disabled:a,required:n},(0,r.createElement)(v,{className:"cmplz-switch-thumb"})))}))},48033:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(51609),a=n(27723),c=(n(10800),n(25228)),s=n(34759),l=n(81366);const o=e=>{const{setScript:t,blockedScripts:n,fetching:o}=(0,s.default)(),i=n,d=e.script,u=e=>{if(!d.dependency||0===d.dependency.length)return"";let t=Object.entries(d.dependency);for(const[n,r]of t)if(n===e)return r;return""},p=(e,t)=>{let n={...e};for(const[e,r]of Object.entries(n))if(r===t){delete n[e];break}return n};let m=d.hasOwnProperty("urls")?Object.entries(d.urls):[""];return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,r.createElement)(l.default,{id:d.id+"dependency",disabled:o,value:d.enable_dependency,onChange:n=>((n,r)=>{let a={...d};a.enable_dependency=n,t(a,e.type)})(n),options:{true:(0,a.__)("Enable dependency","complianz-gdpr")}})),!!d.enable_dependency&&(0,r.createElement)("div",{className:"cmplz-details-row cmplz-details-row"},m.length>1&&m.map((([n,s],l)=>(0,r.createElement)("div",{key:l,className:"cmplz-scriptcenter-dependencies"},(0,r.createElement)(c.default,{disabled:o,value:u(s),options:p(i,s),onChange:n=>((n,r)=>{let a={...d},c={...a.dependency};c[r]=n,a.dependency=c,t(a,e.type)})(n,s)}),(0,r.createElement)("div",null,(0,a.__)("waits for: ","complianz-gdpr"),s||(0,a.__)("Empty URL","complianz-gdpr"))))),m.length<=1&&(0,r.createElement)(r.Fragment,null,(0,a.__)("Add a URL to create a dependency between two URLs","complianz-gdpr"))))}},34759:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var r=n(81621),a=n(16535),c=n(9588);const s=(0,r.vt)(((e,t)=>({integrationsLoaded:!1,fetching:!1,services:[],plugins:[],scripts:[],placeholders:[],blockedScripts:[],setScript:(t,n)=>{e((0,a.Ay)((e=>{if("block_script"===n){let n=e.blockedScripts;if(t.urls){for(const[e,r]of Object.entries(t.urls)){if(!r||0===r.length)continue;let e=!1;for(const[t,a]of Object.entries(n))r===t&&(e=!0);e||(n[r]=r)}e.blockedScripts=n}}const r=e.scripts[n].findIndex((e=>e.id===t.id));-1!==r&&(e.scripts[n][r]=t)})))},fetchIntegrationsData:async()=>{if(t().fetching)return;e({fetching:!0});const{services:n,plugins:r,scripts:a,placeholders:c,blocked_scripts:s}=await l();let o=a;o.block_script&&o.block_script.length>0&&o.block_script.forEach(((e,t)=>{e.id=t})),o.add_script&&o.add_script.length>0&&o.add_script.forEach(((e,t)=>{e.id=t})),o.whitelist_script&&o.whitelist_script.length>0&&o.whitelist_script.forEach(((e,t)=>{e.id=t})),e((()=>({integrationsLoaded:!0,services:n,plugins:r,scripts:o,fetching:!1,placeholders:c,blockedScripts:s})))},addScript:n=>{e({fetching:!0}),t().scripts[n]&&Array.isArray(t().scripts[n])||e((0,a.Ay)((e=>{e.scripts[n]=[]}))),e((0,a.Ay)((e=>{e.scripts[n].push({name:"general",id:e.scripts[n].length,enable:!0})})));let r=t().scripts;return c.doAction("update_scripts",{scripts:r}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},saveScript:(n,r)=>{e({fetching:!0}),t().scripts[r]&&Array.isArray(t().scripts[r])||e((0,a.Ay)((e=>{e.scripts[r]=[]}))),e((0,a.Ay)((e=>{const t=e.scripts[r].findIndex((e=>e.id===n.id));-1!==t&&(e.scripts[r][t]=n)})));let s=t().scripts;return c.doAction("update_scripts",{scripts:s}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},deleteScript:(n,r)=>{e({fetching:!0}),t().scripts[r]&&Array.isArray(t().scripts[r])||e((0,a.Ay)((e=>{e.scripts[r]=[]}))),e((0,a.Ay)((e=>{const t=e.scripts[r].findIndex((e=>e.id===n.id));-1!==t&&e.scripts[r].splice(t,1)})));let s=t().scripts;return c.doAction("update_scripts",{scripts:s}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},updatePluginStatus:async(t,n)=>{e({fetching:!0}),e((0,a.Ay)((e=>{const r=e.plugins.findIndex((e=>e.id===t));-1!==r&&(e.plugins[r].enabled=n)})));const r=await c.doAction("update_plugin_status",{plugin:t,enabled:n}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),r},updatePlaceholderStatus:async(t,n,r)=>{e({fetching:!0}),r&&e((0,a.Ay)((e=>{const r=e.plugins.findIndex((e=>e.id===t));-1!==r&&(e.plugins[r].placeholder=n?"enabled":"disabled")})));const s=await c.doAction("update_placeholder_status",{id:t,enabled:n}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),s}}))),l=()=>c.doAction("get_integrations_data",{}).then((e=>e)).catch((e=>{console.error(e)}))},7971:(e,t,n)=>{n.d(t,{C:()=>l});var r=n(51609),a=n(75795),c=n(91071),s=n(88200);const l=e=>{const{present:t,children:n}=e,l=function(e){const[t,n]=(0,r.useState)(),c=(0,r.useRef)({}),l=(0,r.useRef)(e),i=(0,r.useRef)("none"),d=e?"mounted":"unmounted",[u,p]=function(e,t){return(0,r.useReducer)(((e,n)=>{const r=t[e][n];return null!=r?r:e}),e)}(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,r.useEffect)((()=>{const e=o(c.current);i.current="mounted"===u?e:"none"}),[u]),(0,s.N)((()=>{const t=c.current,n=l.current;if(n!==e){const r=i.current,a=o(t);e?p("MOUNT"):"none"===a||"none"===(null==t?void 0:t.display)?p("UNMOUNT"):p(n&&r!==a?"ANIMATION_OUT":"UNMOUNT"),l.current=e}}),[e,p]),(0,s.N)((()=>{if(t){const e=e=>{const n=o(c.current).includes(e.animationName);e.target===t&&n&&(0,a.flushSync)((()=>p("ANIMATION_END")))},n=e=>{e.target===t&&(i.current=o(c.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}p("ANIMATION_END")}),[t,p]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:(0,r.useCallback)((e=>{e&&(c.current=getComputedStyle(e)),n(e)}),[])}}(t),i="function"==typeof n?n({present:l.isPresent}):r.Children.only(n),d=(0,c.s)(l.ref,i.ref);return"function"==typeof n||l.isPresent?(0,r.cloneElement)(i,{ref:d}):null};function o(e){return(null==e?void 0:e.animationName)||"none"}l.displayName="Presence"}}]);