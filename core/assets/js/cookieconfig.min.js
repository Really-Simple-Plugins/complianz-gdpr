"use strict";jQuery(document).ready(function(n){var c,i,t=!1,o=!1,a="",s=[];function l(){n(".cmplz-video").each(function(){var c=n(this),e=n(this).css("background-image");e=e.replace("url(","").replace(")","").replace(/\"/gi,"");var o=new Image;o.addEventListener("load",function(){var e=this.naturalWidth;0===e&&(e=1);var o=this.naturalHeight*(c.width()/e);c.height(o)}),o.src=e})}function r(){if(t||m(),!o){if(k("dont_track_me","0",complianz.cookie_expiry),n(".cmplz-blocked-content-notice").each(function(){n(this).parent().css("background-image",""),n(this).remove()}),n(".cmplz-iframe").each(function(e,o){var c=n(this).data("src-cmplz");n(this).attr("src",c),jQuery.fn.fitVids&&n(this).parent().hasClass("cmplz-video")&&n(this).parent().fitVids()}),n(".cmplz-script").each(function(e,o){var i=n(this).attr("src");if(i&&i.length)if(void 0!==n(this).data("post_scribe_id")){var c="#"+n(this).data("post_scribe_id");n(c).length&&(n(c).html(""),n(function(){postscribe(c,"<script src="+i+"><\/script>")}))}else n(this).attr("type","text/javascript"),n.getScript(i).done(function(e,o){for(var c in s)s.hasOwnProperty(c)&&-1!==i.indexOf(c)&&p(s[c])});else n(this).text().length&&(-1!==n(this).text().indexOf("grecaptcha")?s.recaptcha=n(this):p(n(this)))}),!T()){var e=new CustomEvent("cmplzEnableScripts");document.dispatchEvent(e)}o=!0}}function p(e){n("<script>").attr("type","text/javascript").text(e.text()).appendTo(e.parent()),e.remove()}function m(){if(console.log("fire stats"),n(".cmplz-stats").each(function(e,o){if(n(this).text().length){var c=n(this).text();n("<script>").attr("type","text/javascript").text(c).appendTo(n(this).parent()),n(this).remove()}t=!0}),!T()){var e=new CustomEvent("cmplzEnableStats");document.dispatchEvent(e)}}function _(e){console.log("fire "+e),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e})}l(),n(window).bind("resize",function(e){n(window).resize(function(){clearTimeout(window.resizeEvt),window.resizeEvt=setTimeout(function(){l()},100)})});var u=[];function z(){var e;complianz=function(e,o){for(var c=1;c<o.length;c++){var i=o;for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}return e}(complianz,u),S(),(e=v("complianz_policy_id"))&&complianz.current_policy_id!=e&&k("complianz_consent_status","",0),"set"!==v("cmplz_choice")&&(u.do_not_track||"eu"!==u.region&&"us"!==u.region?h("no-warning"):"us"===u.region?h("all"):h("no-choice")),u.do_not_track||("eu"===u.region?(complianz.dismiss_on_scroll=!1,complianz.dismiss_on_timeout=!1,console.log("EU, opt-in"),d()):"us"===u.region?(console.log("US, opt-out"),complianz.type="opt-out",complianz.layout="basic",complianz.readmore_url=complianz.readmore_url_us,complianz.readmore=complianz.readmore_us,complianz.dismiss=complianz.accept_informational,complianz.message=complianz.message_us,a=complianz.privacy_link,d()):(console.log("other region, no cookie warning"),f()))}function d(){complianz.use_custom_cookie_css&&n("<style>").prop("type","text/css").html(complianz.custom_css).appendTo("head"),window.cookieconsent.initialise({cookie:{name:"complianz_consent_status",expiryDays:complianz.cookie_expiry},onInitialise:function(e){"allow"===(c=e)&&f()},onStatusChange:function(e,o){!complianz.dismiss_on_scroll&&!complianz.dismiss_on_timeout||"dismiss"!==e&&"allow"!==e||(k("complianz_consent_status","allow",complianz.cookie_expiry),i.close(),n(".cc-revoke").fadeIn()),c=e,complianz.use_categories||h(),"allow"===e&&f(),"deny"===e&&"us"===u.region&&(O(),h())},onRevokeChoice:function(){complianz.use_categories||"allow"!==c||(O(),h())},dismissOnTimeout:parseInt(complianz.dismiss_on_timeout),dismissOnScroll:parseInt(complianz.dismiss_on_scroll),dismissOnWindowClick:!0,revokeBtn:'<div class="cc-revoke '+complianz.hide_revoke+' {{classes}}">'+complianz.revoke+"</div>",palette:{popup:{background:complianz.popup_background_color,text:complianz.popup_text_color},button:{background:complianz.button_background_color,text:complianz.button_text_color,border:complianz.border_color}},theme:complianz.theme,static:complianz.static,position:complianz.position,type:complianz.type,layout:complianz.layout,layouts:{"categories-layout":"{{messagelink}}{{categories-checkboxes}}{{compliance}}",compliance:"{{messagelink}}{{compliance}}"},compliance:{categories:'<div class="cc-compliance cc-highlight">{{save}}</div>'},elements:{save:'<a aria-label="save cookies" tabindex="0" class="cc-btn cc-save">{{save_preferences}}</a>',"categories-checkboxes":complianz.categories,messagelink:'<span id="cookieconsent:desc" class="cc-message">{{message}} <a aria-label="learn more about cookies" tabindex="0" class="cc-link" href="{{href}}">{{link}}</a>'+a+"</span>"},content:{save_preferences:complianz.save_preferences,deny:"",message:complianz.message,dismiss:complianz.dismiss,allow:complianz.accept,link:complianz.readmore,href:complianz.readmore_url}},function(e){if(i=e,"us"!==u.region&&complianz.use_categories){if(x(),complianz.tm_categories)for(var o=0;o<complianz.cat_num;o++)n("#cmplz_"+o+":checked + .cc-check svg").css({stroke:complianz.popup_text_color});n("#cmplz_functional:checked + .cc-check svg").css({stroke:complianz.popup_text_color}),n("#cmplz_all:checked + .cc-check svg").css({stroke:complianz.popup_text_color}),n(".cc-save").css({"border-color":complianz.border_color,"background-color":complianz.button_background_color,color:complianz.button_text_color}),n(".cc-check svg").css({stroke:complianz.popup_text_color}),w()}"us"===u.region&&"deny"!==v("complianz_consent_status")&&f()})}function f(){b(),complianz.use_categories?w(!0):(complianz_enable_cookies(),r())}function e(){if(i.setStatus("dismiss"),complianz.tm_categories)for(var e=0;e<complianz.cat_num;e++)n("#cmplz_"+e).is(":checked")?k("cmplz_event_"+e,"allow",complianz.cookie_expiry):k("cmplz_event_"+e,"deny",complianz.cookie_expiry);n("#cmplz_stats").length&&(n("#cmplz_stats").is(":checked")?k("cmplz_stats","allow",complianz.cookie_expiry):k("cmplz_stats","deny",complianz.cookie_expiry)),n("#cmplz_all").length&&(n("#cmplz_all").is(":checked")?k("cmplz_all","allow",complianz.cookie_expiry):k("cmplz_all","deny",complianz.cookie_expiry)),w(),h(),"no-choice"===y()||"functional"===y()?O():b(),i.close(),n(".cc-revoke").fadeIn()}function h(e){e=void 0!==e&&e,k("cmplz_choice","set",complianz.cookie_expiry),e||(e=y()),n.ajax({type:"GET",url:complianz.url,dataType:"json",data:{action:"cmplz_track_status",status:e,region:u.region}})}function g(){if(n(".cc-revoke-custom").length&&"us"===u.region){var e=n("#cmplz-document").find(".cmplz-status-accepted"),o=n("#cmplz-document").find(".cmplz-status-denied");"deny"===v("complianz_consent_status")?(e.hide(),o.show()):(e.show(),o.hide())}}function k(e,o,c){var i="",n=";secure";if(c){var t=new Date;t.setTime(t.getTime()+24*c*60*60*1e3);i=";expires="+t.toGMTString()}"https:"!==window.location.protocol&&(n=""),document.cookie=e+"="+o+n+i+";path=/"}function v(e){for(var o=e+"=",c=window.document.cookie.split(";"),i=0;i<c.length;i++){var n=c[i].trim();if(0==n.indexOf(o))return n.substring(o.length,n.length)}return""}function y(){var e=v("complianz_consent_status");if(complianz.use_categories){if("allow"===v("cmplz_all"))return"all";if(complianz.tm_categories)for(var o=complianz.cat_num-1;0<=o;o--)if("allow"===v("cmplz_event_"+o))return"cmplz_event_"+o;if("allow"===v("cmplz_stats"))return"stats"}else if("allow"===e||"dismiss"===e&&"us"===u.region)return"all";return"dismiss"===e?"functional":"no-choice"}function w(e){if(e=void 0!==e&&e,complianz.tm_categories&&_("cmplz_event_functional"),complianz.tm_categories)for(var o=0;o<complianz.cat_num;o++)(e||n("#cmplz_"+o).is(":checked"))&&_("cmplz_event_"+o);(e||n("#cmplz_stats").length&&n("#cmplz_stats").is(":checked"))&&m(),(e||n("#cmplz_all").length&&n("#cmplz_all").is(":checked"))&&(complianz.tm_categories&&_("cmplz_event_all"),complianz_enable_cookies(),r())}function x(){if(complianz.tm_categories)for(var e=0;e<complianz.cat_num;e++)"allow"===v("cmplz_event_"+e)&&n("#cmplz_"+e).prop("checked",!0);"allow"===v("cmplz_all")&&n("#cmplz_all").prop("checked",!0),"allow"===v("cmplz_stats")&&n("#cmplz_stats").prop("checked",!0)}function b(){k("complianz_policy_id",complianz.current_policy_id,complianz.cookie_expiry)}function S(){k("dont_track_me","1",complianz.cookie_expiry)}function O(){document.cookie.split(";").forEach(function(e){-1===e.indexOf("cmplz_stats")&&-1===e.indexOf("cmplz_")&&-1===e.indexOf("complianz_consent_status")&&-1===e.indexOf("complianz_policy_id")&&(document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/"))}),S()}function T(){var e=window.navigator.userAgent;return 0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")}"undefined"!=typeof Storage&&sessionStorage.cmplz_user_data&&(u=JSON.parse(sessionStorage.cmplz_user_data)),0===u.length||u.version!==complianz.version?n.ajax({type:"GET",url:complianz.url,dataType:"json",data:{action:"cmplz_user_settings"},success:function(e){u=e,sessionStorage.cmplz_user_data=JSON.stringify(u),z()}}):z(),n(document).on("click",".cc-save",function(){e()}),n(document).on("click",".cc-revoke-custom",function(){"eu"===u.region?n(".cc-revoke").click():("deny"===v("complianz_consent_status")?n(".cc-revoke").click():(k("complianz_consent_status","deny",complianz.cookie_expiry),i.close(),n(".cc-revoke").fadeIn()),g())}),n(document).on("click",".cmplz-accept-cookies",function(){complianz.use_categories?(k("cmplz_all","allow",complianz.cookie_expiry),x(),e()):(i.setStatus(cookieconsent.status.allow),f(),i.close(),n(".cc-revoke").fadeIn())}),g()});