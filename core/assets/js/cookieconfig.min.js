"use strict";function complianz_deleteAllCookies(){console.log("clearing all cookies on own domain"),document.cookie.split(";").forEach(function(e){-1===e.indexOf("cmplz_stats")&&-1===e.indexOf("cmplz_")&&-1===e.indexOf("complianz_consent_status")&&-1===e.indexOf("complianz_policy_id")&&(document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/"))})}jQuery(document).ready(function(e){var o,c,n=!1,i="";function t(){n||a(),e(".cmplz-iframe").each(function(o,c){var n=e(this).data("src-cmplz");e(this).attr("src",n)}),e(".cmplz-script").each(function(o,c){var n=e(this).attr("src");n&&n.length?(e(this).attr("type","text/javascript"),e.getScript(n,function(){})):e(this).text().length&&(e("<script>").attr("type","text/javascript").text(e(this).text()).appendTo(e(this).parent()),e(this).remove())})}function a(){e(".cmplz-stats").each(function(o,c){if(e(this).text().length){var i=e(this).text();e("<script>").attr("type","text/javascript").text(i).appendTo(e(this).parent()),e(this).remove()}n=!0})}function l(e){console.log("fire "+e),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e})}var s=[];function p(){var e;complianz=function(e){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var n in c)c.hasOwnProperty(n)&&(e[n]=c[n])}return e}(complianz,s),(e=z("complianz_policy_id"))&&complianz.current_policy_id!=e&&u("complianz_consent_status","",0),s.do_not_track||"eu"!==s.region&&"us"!==s.region?m("no-warning"):"set"!==z("cmplz_choice")&&m("no-choice"),s.do_not_track||("eu"===s.region?(console.log("eu, opt-in"),r()):"us"===s.region?(console.log("us, opt-out"),complianz.type="opt-out",complianz.use_categories=!1,complianz.layout="basic",complianz.readmore_url=complianz.readmore_url_us,complianz.readmore=complianz.readmore_us,complianz.dismiss=complianz.accept_informational,i=',&nbsp;<a aria-label="learn more about privacy" tabindex="0" class="cc-link" href="'+complianz.privacy_url+'">'+complianz.readmore_privacy+"</a>",r()):(console.log("other region, no cookie warning"),complianz_enable_cookies(),t()))}function r(){complianz.use_custom_cookie_css&&e("<style>").prop("type","text/css").html(complianz.custom_css).appendTo("head"),window.cookieconsent.initialise({cookie:{name:"complianz_consent_status",expiryDays:complianz.cookie_expiry},onInitialise:function(e){o=e,("allow"===e||"dismiss"===e&&"us"===s.region)&&(complianz_enable_cookies(),t())},onStatusChange:function(e,c){o=e,complianz.use_categories||m(),("allow"===e||"dismiss"===e&&"us"===s.region)&&(k(),complianz_enable_cookies(),t()),"deny"===e&&"us"===s.region&&(complianz_deleteAllCookies(),m())},onRevokeChoice:function(){complianz.use_categories||"allow"!==o||(complianz_deleteAllCookies(),m())},revokeBtn:'<div class="cc-revoke '+complianz.hide_revoke+' {{classes}}">'+complianz.revoke+"</div>",palette:{popup:{background:complianz.popup_background_color,text:complianz.popup_text_color},button:{background:complianz.button_background_color,text:complianz.button_text_color,border:complianz.border_color}},theme:complianz.theme,static:complianz.static,position:complianz.position,type:complianz.type,layout:complianz.layout,layouts:{"categories-layout":"{{messagelink}}{{categories-checkboxes}}{{compliance}}"},compliance:{categories:'<div class="cc-compliance cc-highlight">{{save}}</div>'},elements:{save:'<a aria-label="save cookies" tabindex="0" class="cc-btn cc-save">{{save_preferences}}</a>',"categories-checkboxes":complianz.categories,messagelink:'<span id="cookieconsent:desc" class="cc-message">{{message}} <a aria-label="learn more about cookies" tabindex="0" class="cc-link" href="{{href}}" target="_blank">{{link}}</a>'+i+"</span>"},content:{save_preferences:complianz.save_preferences,deny:"",message:complianz.message,dismiss:complianz.dismiss,allow:complianz.accept,link:complianz.readmore,href:complianz.readmore_url}},function(o){if(c=o,complianz.use_categories){if(function(){if(complianz.tm_categories)for(var o=0;o<complianz.cat_num;o++)"allow"===z("cmplz_event_"+o)&&e("#cmplz_"+o).prop("checked",!0);"allow"===z("cmplz_all")&&e("#cmplz_all").prop("checked",!0);"allow"===z("cmplz_stats")&&e("#cmplz_stats").prop("checked",!0)}(),complianz.tm_categories)for(var n=0;n<complianz.cat_num;n++)e("#cmplz_"+n+":checked + .cc-check svg").css({stroke:complianz.popup_text_color});e("#cmplz_functional:checked + .cc-check svg").css({stroke:complianz.popup_text_color}),e("#cmplz_all:checked + .cc-check svg").css({stroke:complianz.popup_text_color}),e(".cc-save").css({"border-color":complianz.border_color,"background-color":complianz.button_background_color,color:complianz.button_text_color}),e(".cc-check svg").css({stroke:complianz.popup_text_color}),g()}"us"===s.region&&"deny"!==z("complianz_consent_status")&&(complianz_enable_cookies(),t())})}function m(o){o=void 0!==o&&o,u("cmplz_choice","set",complianz.cookie_expiry),o||(o=d()),e.ajax({type:"GET",url:complianz.url,dataType:"json",data:{action:"cmplz_track_status",status:o,region:s.region}})}function _(){if(e(".cc-revoke-custom").length&&(console.log("revoke button found"),"us"===s.region)){console.log("us region revoke btn");var o=e("#cmplz-document").find(".cmplz-status-accepted"),c=e("#cmplz-document").find(".cmplz-status-denied");"deny"===z("complianz_consent_status")?(console.log("status deny"),o.hide(),c.show()):(console.log("status accept"),o.show(),c.hide())}}function u(e,o,c){if(c){var n=new Date;n.setTime(n.getTime()+24*c*60*60*1e3);var i="; expires="+n.toGMTString()}else i="";document.cookie=e+"="+o+i+"; path=/"}function z(e){for(var o=e+"=",c=window.document.cookie.split(";"),n=0;n<c.length;n++){var i=c[n].trim();if(0==i.indexOf(o))return i.substring(o.length,i.length)}return""}function d(){var e=z("complianz_consent_status");if(complianz.use_categories){if("allow"===z("cmplz_all"))return"all";if(complianz.tm_categories)for(var o=complianz.cat_num-1;o>=0;o--)if("allow"===z("cmplz_event_"+o))return"cmplz_event_"+o;if("allow"===z("cmplz_stats"))return"stats"}else if("allow"===e||"dismiss"===e&&"us"===s.region)return"all";return"dismiss"===e?"functional":"no-choice"}function g(o){if(o=void 0!==o&&o,complianz.tm_categories&&l("cmplz_event_functional"),complianz.tm_categories)for(var c=0;c<complianz.cat_num;c++)(o||e("#cmplz_"+c).is(":checked"))&&l("cmplz_event_"+c);e("#cmplz_stats").length&&(o||e("#cmplz_stats").is(":checked"))&&a(),e("#cmplz_all").length&&(o||e("#cmplz_all").is(":checked"))&&(complianz.tm_categories&&l("cmplz_event_all"),complianz_enable_cookies(),t())}function k(){u("complianz_policy_id",complianz.current_policy_id,complianz.cookie_expiry)}"undefined"!=typeof Storage&&sessionStorage.cmplz_user_data&&(s=JSON.parse(sessionStorage.cmplz_user_data)),0===s.length||typeof s.version!==complianz.version?e.ajax({type:"GET",url:complianz.url,dataType:"json",data:{action:"cmplz_user_settings"},success:function(e){s=e,sessionStorage.cmplz_user_data=JSON.stringify(s),p()}}):p(),e(document).on("click",".cc-save",function(){c.setStatus(cookieconsent.status.dismiss),complianz.use_categories&&(!function(){if(complianz.tm_categories)for(var o=0;o<complianz.cat_num;o++)e("#cmplz_"+o).is(":checked")?u("cmplz_event_"+o,"allow",complianz.cookie_expiry):u("cmplz_event_"+o,"deny",complianz.cookie_expiry);e("#cmplz_stats").length&&(e("#cmplz_stats").is(":checked")?u("cmplz_stats","allow",complianz.cookie_expiry):u("cmplz_stats","deny",complianz.cookie_expiry));e("#cmplz_all").length&&(e("#cmplz_all").is(":checked")?u("cmplz_all","allow",complianz.cookie_expiry):u("cmplz_all","deny",complianz.cookie_expiry))}(),g()),m(),"no-choice"===d()||"functional"===d()?complianz_deleteAllCookies():k(),c.close(),e(".cc-revoke").fadeIn()}),e(document).on("click",".cc-revoke-custom",function(){"eu"===s.region?e(".cc-revoke").click():("deny"===z("complianz_consent_status")?e(".cc-revoke").click():u("complianz_consent_status","deny",complianz.cookie_expiry),_())}),_()});