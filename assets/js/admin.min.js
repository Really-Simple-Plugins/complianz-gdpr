jQuery(document).ready((function(e){"use strict";e(document).on("click",".cmplz-install-burst",(function(){var t=e("button.cmplz-install-burst");t.html('<div class="cmplz-loader"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>'),t.attr("disabled","disabled"),e.ajax({type:"GET",url:complianz_admin.admin_url,dataType:"json",data:{step:"download",action:"cmplz_install_plugin"},success:function(c){e.ajax({type:"GET",url:complianz_admin.admin_url,dataType:"json",data:{step:"activate",action:"cmplz_install_plugin"},success:function(c){let i=e(".cmplz-completed-text").html();t.html(i)}})}})})),e(document).on("click",".regions .cmplz-checkbox-container input",(function(){t()}));e(".regions .cmplz-checkbox-container input");function t(){e("select[name=cmplz_other_region_behaviour]").length&&e(".regions .cmplz-field").find(":checkbox").each((function(t){var c=e(this).attr("name").replace("]","").replace("cmplz_regions[",""),i=e("select[name=cmplz_other_region_behaviour] option[value="+c+"]");e(this).is(":checked")?i.removeAttr("disabled"):i.attr("disabled","disabled")}))}t(),e(document).on("click",".cmplz-copy-shortcode",(function(){let t,c=e(this),i=e(this).children(".cmplz-copy-shortcode-text");e(this).addClass("cmplz-click-animation");let n=e("<input>");e("body").append(n),n.val(i.text()).select();try{t=document.execCommand("copy")}catch(e){t=!1}if(n.remove(),t){console.log("success");let t=e(this).children(".cmplz-tooltip"),i=t.attr("cmplz-tooltip");t.attr("cmplz-tooltip",complianz_admin.copy_text),console.log(e(this).children(".cmplz-tooltip")),setTimeout((function(){console.log(this),c.removeClass("cmplz-click-animation"),t.attr("cmplz-tooltip",i)}),2e3)}}));var c=e(".cmplz_save_localstorage");function i(){e(".multiple-field").each((function(){var t=!0;e(this).find("input[type=text]").each((function(){""===e(this).val()&&(t=!1)})),e(this).find("textarea").each((function(){""===e(this).val()&&(t=!1)}));var c=e(this).closest(".cmplz-panel").find(".cmplz-multiple-field-validation i");t?(c.removeClass("fa-times"),c.addClass("fa-check")):(c.addClass("fa-times"),c.removeClass("fa-check"))}))}function n(){e(".cmplz-validate-multicheckbox").each((function(t){var c=[],i=!0;e(this).find(":checkbox").each((function(t){c.push(e(this)),e(this).is(":checked")&&(i=!1)}));var n=e(this).closest(".field-group").find(".cmplz-label");i?(n.removeClass("valid-multicheckbox"),n.addClass("invalid-multicheckbox"),e.each(c,(function(e,t){t.prop("required",!0),t.addClass("is-required")}))):(n.removeClass("invalid-multicheckbox"),n.addClass("valid-multicheckbox"),e.each(c,(function(e,t){t.prop("required",!1),t.removeClass("is-required")})))})),a()}function a(){var t,c=!0;e(".condition-check-1").each((function(i){var n;for(n=1;n<4;n++){var a="cmplz_"+e(this).data("condition-question-"+n);if("cmplz_undefined"==a)return;var s=e(this).data("condition-answer-"+n),o=e(this).find("input[type=checkbox]");o.length||(o=e(this).find("input")),o.length||(o=e(this).find("textarea")),o.length||(o=e(this).find("select")),o.length&&o[0].hasAttribute("required")&&o.addClass("is-required"),-1!==(s+="").indexOf("NOT ")?(s=s.replace("NOT ",""),c=!1):c=!0;var d=[];-1!==s.indexOf(" OR ")?(d=s.split(" OR "),"OR"):d=[s];var r=e(this),m=e(this).data("fieldname"),p=!1;if(d.forEach((function(i){t=l(a),e('select[name="'+a+'"]').length&&(t=Array(e("select[name="+a+"]").val())),e("input[name='"+a+"["+i+"]']").length&&(e("input[name='"+a+"["+i+"]']").is(":checked")?(p=!0,t=[]):(p=!1,t=[])),c?p||-1!=t.indexOf(i)||t==i?(r.removeClass("cmplz-hidden"),e("."+m).removeClass("cmplz-hidden"),o.hasClass("is-required")&&o.prop("required",!0),p=!0):(r.addClass("cmplz-hidden"),e("."+m).addClass("cmplz-hidden"),o.hasClass("is-required")&&o.prop("required",!1)):p||-1!=t.indexOf(i)||t==i?(r.addClass("cmplz-hidden"),e("."+m).addClass("cmplz-hidden"),o.hasClass("is-required")&&o.prop("required",!1)):(r.removeClass("cmplz-hidden"),e("."+m).removeClass("cmplz-hidden"),o.hasClass("is-required")&&o.prop("required",!0),p=!0)})),!p)break}}))}function l(t){if("text"==e('input[name="'+t+'"]').attr("type"))return e("input[name^="+t+"]").val();var c=[];return e('input[name="'+t+'"]:checked').each((function(){c[c.length]=e(this).val()})),c}c.length&&c.each((function(){var t=e(this).attr("name"),c=window.localStorage.getItem(t),i=e(this).val();null==c||!e(this).find("option[value="+c+"]").length>0?(c=i,window.localStorage.setItem(t,c),e(this).val(c).change()):null!=c&&c!==i&&e(this).val(c).change()})),e(document).on("change",".cmplz_save_localstorage",(function(){const t=e(this).attr("name"),c=e(this).find(":selected").val();window.localStorage.setItem(t,c)})),e(document).on("change",".cmplz-download-document-selector",(function(){var t=e(this);0!=e(this).find(":selected").val().length?t.closest(".cmplz-document").find(".cmplz-download-document").attr("disabled",!1):t.closest(".cmplz-document").find(".cmplz-download-document").attr("disabled",!0)})),e(document).on("click",".cmplz-download-document",(function(){var t=e(this),c=t.html(),i=e(this).closest(".cmplz-document").find("select").val(),n=e(this).closest(".cmplz-document").find("select option:selected").text();t.html('<div class="cmplz-loader"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>'),t.attr("disabled","disabled");var a=new XMLHttpRequest;a.responseType="blob",a.open("get",i,!0),a.send(),a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=window.URL.createObjectURL(this.response),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download",n),document.body.appendChild(t),t.click(),setTimeout((function(){window.URL.revokeObjectURL(e)}),6e4)}},a.onprogress=function(e){t.html(c),t.removeAttr("disabled")}})),e(document).on("change",".cmplz-grid-selector",(function(){var t=e(this).val(),c=e(this).attr("id"),i=window.location.href,n=function(e,t){if(void 0===e)return!1;var c=e.split("?");if(1==c.length)return!1;var i,n,a=c[1].split("&");for(n=0;n<a.length;n++)if((i=a[n].split("="))[0]===t)return void 0===i[1]||decodeURIComponent(i[1]);return!1}(i,c);!1!==n&&(i=i.replace("&"+c+"="+n,"")),i+="&"+c+"="+t,window.location.replace(i)})),e(document).on("click",".cmplz-tablinks",(function(){e(".cmplz-tablinks").removeClass("active"),e(this).addClass("active"),e(".cmplz-tabcontent").removeClass("active"),e("#"+e(this).data("tab")).addClass("active"),e("input[name=cmplz_active_tab]").val(e(this).data("tab"))})),window.setTimeout((function(){e(".cmplz-hide").fadeTo(500,0).slideUp(500,(function(){e(this).remove()}))}),2e3),e(document).on("click",".cmplz-help-modal span",(function(t){e(this).closest(".cmplz-help-modal").fadeOut()})),e(".cmplz-radio-container").keypress((function(t){"13"==(t.keyCode?t.keyCode:t.which)&&e(t.target).find(":radio").click()})),e(".cmplz-switch, .cmplz-checkbox-container").keypress((function(t){"13"==(t.keyCode?t.keyCode:t.which)&&e(t.target).find(":checkbox").click()})),i(),e(document).on("keyup",".multiple-field input[type=text]",(function(){i()})),e(document).on("keyup",".multiple-field textarea",(function(){i()})),n(),e(":checkbox").change(n),e(document).on("change","input",(function(e){a()})),e(document).on("change","select",(function(e){a()})),e(document).on("change","textarea",(function(e){a()})),e(document).on("cmplzRenderConditions",a);var s=1e4,o=complianz_admin.progress,d=e(".cmplz-progress-bar"),r=e(".detected-cookies");e("#cmplz-scan-progress").length&&(s=3e3),e("#cmplz_cookie_scan_frame").length&&function t(){var c=document.getElementById("cmplz_cookie_scan_frame");c.contentDocument||c.contentWindow.document,r.find(".cmplz-loader").length,c.onload=function(){o>=100||e.get(complianz_admin.admin_url,{action:"cmplz_get_scan_progress"},(function(c){var i;if(c){var n=(i=jQuery.parseJSON(c)).cookies;e(".detected-cookies .cmplz-cookies-table").html(n.join("<br>")),e(".cmplz-scan-count").html(n.length),o=parseInt(i.progress);var a=i.next_page;o>=100?(o=100,d.css({width:o+"%"})):(d.css({width:o+"%"}),e("#cmplz_cookie_scan_frame").attr("src",a),window.setTimeout(t,s))}}))},window.setTimeout(t,s)}(),d.css({width:o+"%"});var m=0,p=e(".cmplz-sync-progress-bar"),h=e(".cmplz-sync-status span"),u=e(".cmplz-resync");(h.hide(),e("#cmplz-sync-progress").length)?(m=complianz_admin.syncProgress)<100&&(u.attr("disabled","disabled"),h.show(),p.css({width:m+"%"}),v()):e(".cmplz-list-container").length&&y();function v(t){t=void 0!==t&&t,e.get(complianz_admin.admin_url,{action:"cmplz_run_sync",restart:t},(function(t){var c;if(t){c=jQuery.parseJSON(t),m=parseInt(c.progress);var i=c.message;void 0!==i&&i.length>0&&(e("#cmplz_action_error").removeClass("cmplz-hidden"),e("#cmplz_action_error .cmplz-panel").html(i)),m>=100?(m=100,e("#cmplz-sync-loader").html(""),h.hide(),u.removeAttr("disabled"),y(),p.css({width:m+"%"})):(p.css({width:m+"%"}),window.setTimeout(v,500))}}))}e(document).on("click",".cmplz-resync",(function(){u.attr("disabled","disabled"),p.css({width:"0%"}),h.show(),v(!0)})),e(document).on("change","input[name=cmplz_show_deleted]",(function(){y()})),e(document).on("click",".cmplz-add-to-policy",(function(){var t=e(this).closest(".cmplz-slide-panel").find(".cmplz-title").html(),c=e(this).closest(".cmplz-slide-panel").find(".cmplz-panel-content").html();!function(e,t,c){void 0===t&&(t=wpActiveEditor);void 0===c&&(c=t);jQuery("#wp-"+t+"-wrap").hasClass("tmce-active")&&tinyMCE.get(t)?tinyMCE.get(t).setContent(e):jQuery("#"+c).val(e)}(function(e,t){void 0===e&&(e=wpActiveEditor);void 0===t&&(t=e);return jQuery("#wp-"+e+"-wrap").hasClass("tmce-active")&&tinyMCE.get(e)?tinyMCE.get(e).getContent():jQuery("#"+t).val()}("cmplz_custom_privacy_policy_text")+"<h3>"+t+"</h3>"+c,"cmplz_custom_privacy_policy_text"),e(this).remove()}));var f="#bar_pct_all_container";function z(e){var t=e.closest(".cmplz-field");e.is(":checked")?t.find(".cmplz_collectedPersonalData").parent().show():t.find(".cmplz_collectedPersonalData").parent().hide()}function _(e){var t=e.closest(".cmplz-field");e.is(":checked")?t.find(".cmplz_privacyStatementURL").parent().show():t.find(".cmplz_privacyStatementURL").parent().hide()}function g(t){var c,i=!0,n=t.closest(".cmplz-panel");(n.find(":input:not(.cmplz_cookieFunction)").each((function(){e(this).is(":checkbox")||e(this).is(":hidden")||"button"===e(this).prop("type")||"SELECT"!==e(this).prop("nodeName")&&e(this).val().length>0||"SELECT"===e(this).prop("nodeName")&&0!=e(this).val()||(i=!1)})),i)?((c=n.find(".fa.fa-times")).removeClass("cmplz-error"),c.addClass("cmplz-success"),c.addClass("fa-check"),c.removeClass("fa-times")):((c=n.find(".fa.fa-check")).addClass("cmplz-error"),c.removeClass("cmplz-success"),c.addClass("fa-times"),c.removeClass("fa-check"))}(e(f).show(),e(document).on("change","select[name=cmplz_region]",(function(){e(f).hide();var t=e("select[name=cmplz_region]").val(),c=e("select[name=stats_type]").val();e(f="#bar_"+c+"_"+t+"_container").fadeIn()})),e(document).on("change","select[name=stats_type]",(function(){e(f).hide();var t="eu";e("select[name=cmplz_region]").length&&(t=e("select[name=cmplz_region]").val());var c=e("select[name=stats_type]").val();e(f="#bar_"+c+"_"+t+"_container").fadeIn()})),e(document).on("change",".cmplz_isPersonalData",(function(){z(e(this))})),e(document).on("change",".cmplz_thirdParty",(function(){_(e(this))})),e(document).on("change",".cmplz_sync",(function(){var t=e(this).closest(".cmplz-field"),c=e(this),i=!1;c.is(":checked")&&(i=!0),t.find(":input").each((function(){"cmplz_remove_item"!==e(this).attr("name")&&"cmplz-save-item"!==e(this).attr("name")&&"cmplz_restore_item"!==e(this).attr("name")&&"cmplz_showOnPolicy"!==e(this).attr("name")&&"cmplz_sync"!==e(this).attr("name")&&(e(this).prop("disabled",i),i?(e(this).closest(".cmplz-service-field div, .cmplz-cookie-field div").addClass("cmplz-disabled"),e(this).closest("label").addClass("cmplz-disabled")):(e(this).closest(".cmplz-service-field div, .cmplz-cookie-field div").removeClass("cmplz-disabled"),e(this).closest("label").removeClass("cmplz-disabled")))}))})),e(document).on("change",".cmplz_use_cdb_api",(function(){var t="no"===e(this).val();e(".cmplz-list-container").find(":input[name=cmplz_sync]").each((function(){var c=e(this).closest("label");t?(c.find(":checkbox").prop("checked",!1).change(),c.addClass("cmplz-disabled")):(c.removeClass("cmplz-disabled"),c.find(":checkbox").prop("checked",!0).change())}))})),e(document).on("change",".cmplz_sync",(function(){var t=e(this).closest(".cmplz-panel");e(this).is(":checked")?t.find(".fa-sync-alt").removeClass("cmplz-disabled"):t.find(".fa-sync-alt").addClass("cmplz-disabled")})),e(document).on("change",".cmplz_showOnPolicy",(function(){var t=e(this).closest(".cmplz-panel");e(this).is(":checked")?t.find(".fa-file").removeClass("cmplz-error"):t.find(".fa-file").addClass("cmplz-error")})),e(document).on("keyup",".cmplz-panel input",(function(){g(e(this))})),e(document).on("change",".cmplz-panel select",(function(){g(e(this))})),e("#cmplz_language").length)&&(100==(m=complianz_admin.syncProgress)&&y(),e(document).on("change","#cmplz_language",(function(){e(".cmplz-list-container").html('<div class="cmplz-skeleton"></div>'),y()})));function b(){e(".cmplz-select2").select2({tags:!0,width:"400px"}),e(".cmplz-select2-no-additions").select2({width:"400px"})}function y(){var t=e("#cmplz_language").val(),c=e("input[name=cmplz_show_deleted]").is(":checked");e(".cmplz-list-container").html('<div class="cmplz-skeleton"></div>');var i=e("#cmplz_language").data("type");e.ajax({type:"GET",url:complianz_admin.admin_url,dataType:"json",data:{language:t,action:"cmplz_get_list",deleted:c,type:i},success:function(t){t.success&&(e(".cmplz-list-container").html(t.html),e(".cmplz_isPersonalData").each((function(){z(e(this))})),e(".cmplz_thirdParty").each((function(){_(e(this))})),k(),b())}})}function k(){e(".cmplz-panel").each((function(){e(this).hasClass("cmplz-deleted")?(e(this).find('button[data-action="restore"]').show(),e(this).find('button[data-action="delete"]').hide()):(e(this).find('button[data-action="restore"]').hide(),e(this).find('button[data-action="delete"]').show())}))}e(".cmplz-select2").length&&b(),e(document).on("click",".cmplz-edit-item",(function(){var t=e(this).data("action"),c=e(this),i=c.data("type"),n=e(this).closest(".cmplz-"+i+"-field"),a=e(this).closest(".cmplz-panel.cmplz-slide-panel"),l=e("#cmplz_language").val(),s=c.html();c.html('<div class="cmplz-loader"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>');var o=n.data(i+"_id"),d={};n.find(":input").each((function(){"button"!==e(this).attr("type")&&("checkbox"===e(this).attr("type")?d[e(this).attr("name")]=e(this).is(":checked"):d[e(this).attr("name")]=e(this).val())})),"delete"===t&&a.addClass("cmplz-deleted"),e.ajax({type:"POST",url:complianz_admin.admin_url,dataType:"json",data:{item_id:o,type:i,data:JSON.stringify(d),cmplz_action:t,language:l,action:"cmplz_edit_item"},success:function(i){if(i.success){if("delete"===t&&a.remove(),"restore"===t&&(a.removeClass("cmplz-deleted"),n.find("input").each((function(){e(this).removeAttr("disabled")})),n.find("select").each((function(){e(this).removeAttr("disabled")})),n.children("div").removeClass("cmplz-disabled"),n.children("label").removeClass("cmplz-disabled"),n.find('button[name="cmplz-save-item"]').removeAttr("disabled"),n.find(".cmplz_sync").change()),k(),"add"===t){var l=i.html,o=c.closest(".cmplz-field"),d=e(".cmplz-service-divider.no-service");if(i.divider)d.length?d.closest(".cmplz-service-cookie-list").append(l):(l='<div class="cmplz-service-cookie-list">'+i.divider+l+"<div>",o.find(".cmplz-list-container").append(l)),d=e(".cmplz-service-divider.no-service"),"no"==e(".cmplz_use_cdb_api:checked").val()&&d.siblings(":last").find(".cmplz_sync").closest("label").addClass("cmplz-disabled");else o.find(".cmplz-list-container").append(l)}if("save"===t){var r=a.find(".cmplz-title"),m=n.find(".cmplz_name").val(),p=r.text().replace(/\".*\"/,'"'+m+'"');r.text(p)}c.html(s),b()}}})})),e(document).on("click",".cmplz_script_add",(function(){var t=e(this),c=t.html(),i=t.data("type");t.html('<div class="cmplz-loader"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>'),e.ajax({type:"POST",url:complianz_admin.admin_url,data:{action:"cmplz_script_add",type:i},success:function(e){e.success&&(t.before(e.html),t.html(c))}})})),e(document).on("click",".cmplz_add_url",(function(){let t=e(this).closest("div"),c=e(".cmplz-url-template").get(0).innerHTML;t.append(c)})),e(document).on("click",".cmplz_remove_url",(function(){e(this).closest("div").remove()})),e(document).on("click",".cmplz_script_save",(function(){var t=e(this),c=t.html(),i=t.closest(".cmplz-panel"),n=t.data("type"),a=t.data("action"),l=t.data("id");"save"!=a&&"remove"!=a||t.html('<div class="cmplz-loader"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>');var s={};i.find(":input").each((function(){if("button"!==e(this).attr("type")&&void 0!==e(this).attr("name")&&e(this).data("name"))if("checkbox"===e(this).attr("type"))s[e(this).data("name")]=e(this).is(":checked");else if("radio"===e(this).attr("type"))e(this).is(":checked")&&(s[e(this).data("name")]=e(this).val());else if("urls"===e(this).data("name")){let t=s[e(this).data("name")];void 0===t&&(t=[]),t.push(e(this).val()),s[e(this).data("name")]=t}else if("dependency"===e(this).data("name")){let t=s[e(this).data("name")];void 0===t&&(t=[]),t.push(e(this).data("url")+"|:|"+e(this).val()),s[e(this).data("name")]=t}else s[e(this).data("name")]=e(this).val()})),e.ajax({type:"POST",url:complianz_admin.admin_url,data:{action:"cmplz_script_save","cmplz-save":!0,type:n,button_action:a,id:l,data:JSON.stringify(s)},success:function(e){e.success&&("save"===a&&t.html(c),"remove"===a&&(i.remove(),t.html(c)))}})})),function(){if(e("#cmplz_anonymous_window_warning").length){var t=window.RequestFileSystem||window.webkitRequestFileSystem;if(!t)return;t(window.TEMPORARY,100,(function(e){}),(function(t){e("#cmplz_anonymous_window_warning").show()}))}e("#cmplz_adblock_warning").length&&void 0===window.canRunAds&&e("#cmplz_adblock_warning").show()}(),e(document).on("change",".cmplz-document-input",(function(){e(".cmplz-document-field").length&&e(".cmplz-document-field").each((function(){var t=e(this).data("fieldname"),c=e("input[name="+t+"]:checked").val(),i=e(this).find(".cmplz-document-custom-url"),n=e(this).find(".cmplz-document-custom-page");"custom"===c?(n.show(),n.prop("required",!0)):(n.hide(),n.prop("required",!1)),"url"===c?(i.show(),i.prop("required",!0)):(i.hide(),i.prop("required",!1))}))})),e(document).on("click","#cmplz-create_pages",(function(){var t=e("#cmplz-create_pages");t.attr("disabled","disabled");var c=t.html();t.html('<div class="cmplz-loader "><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>');var i={};e(".cmplz-create-page-title").each((function(){if(i.hasOwnProperty(e(this).data("region")))t=i[e(this).data("region")];else var t={};t[e(this).attr("name")]=e(this).val(),i[e(this).data("region")]=t})),e.ajax({type:"POST",url:complianz_admin.admin_url,dataType:"json",data:{pages:JSON.stringify(i),action:"cmplz_create_pages"},success:function(i){i.success?(e(".cmplz-panel.cmplz-notification.cmplz-success.cmplz-hidden").removeClass("cmplz-hidden"),e(".cmplz-create-page-title").each((function(){e(this).removeClass("cmplz-deleted-page").addClass("cmplz-valid-page"),e(this).parent().find(".cmplz-icon").replaceWith(i.icon)})),t.html(i.new_button_text),t.removeAttr("disabled")):(t.html(c),e(".cmplz-page-created").removeClass("fa-times").addClass("fa-check"),e(".cmplz-create-page-title").removeClass("cmplz-deleted-page"))}})})),e(document).on("change",".cmplz-region-select",(function(){var t=e(".cmplz-document-button").attr("href").slice(0,-2);e(".cmplz-document-button").attr("href",t+e(this).val())}));var w=0,C=e(".cmplz_export_roc_to_csv");function x(){var t=e(".cmplz_export_roc_to_csv");e.ajax({type:"GET",url:complianz_admin.admin_url,dataType:"json",data:{action:"cmplz_export_roc_to_csv",order:O("order"),cmplz_month_select:O("cmplz_month_select"),cmplz_year_select:O("cmplz_year_select"),orderby:O("orderby"),s:O("s")},success:function(e){e.success&&(e.progress<100?(w=e.progress,t.html(w+" %"),x()):T(e.link,w))}})}function T(e,t){setTimeout((function(){(t+=10)<100?(C.html(t+" %"),T(e,t)):C.replaceWith(e)}),100)}function O(e){var t=window.location.href.split("?");if(1==t.length)return!1;var c,i,n=t[1].split("&");for(i=0;i<n.length;i++)if((c=n[i].split("="))[0]===e)return void 0===c[1]?"":decodeURIComponent(c[1]);return!1}e(document).on("click",".cmplz_export_roc_to_csv",(function(e){e.preventDefault(),C.html(w+" %"),C.prop("disabled",!0),x()})),e(document).on("change",".cmplz-region-select",(function(){var t=e(".cmplz-document-button").attr("href").slice(0,-2);e(".cmplz-document-button").attr("href",t+e(this).val())})),e(document).on("click",".upload_button",(function(t){t.preventDefault(),e("input[type=file]").click()})),e(document).on("change",':input[name="cmplz-upload-file"]',(function(){e(".cmplz-file-chosen").text(e(this).val().split("\\").pop())})),e(document).on("click",".cmplz-image-uploader, .cmplz-logo-preview.cmplz-clickable",(function(){var t=e(this),c=t.closest(".cmplz-field"),i=t.closest(".field-group").data("fieldname"),n=wp.media({frame:"post",state:"insert",multiple:!1});n.on("insert",(function(){for(var t=n.state().get("selection").length,a=n.state().get("selection").models,l=0;l<t;l++){var s=a[l].id,o=!1;if((o=a[l].attributes.sizes.cmplz_banner_image)||(o=a[l].attributes.sizes.medium),o||(o=a[l].attributes.sizes.thumbnail),o||(o=a[l].attributes.sizes.full),o){var d=o.url;c.find(".cmplz-logo-preview img").attr("src",d),e("input[name=cmplz_"+i+"]").val(s),e(".cmplz-cookiebanner .cmplz-logo").html("<img>"),e(".cmplz-cookiebanner .cmplz-logo img").attr("src",d)}}})),n.open()}))}));