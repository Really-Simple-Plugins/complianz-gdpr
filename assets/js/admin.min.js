jQuery(document).ready(function(o){"use strict";o(".cmplz-color-picker").wpColorPicker({change:function(e,t){var i=o(e.target).data("hidden-input");o("#"+i).val(t.color.toString())}});var e=o(".cmplz-validate-multicheckbox .is-required:checkbox");function t(){e.is(":checked")?(e.prop("required",!1),e.removeClass("is-required")):(e.prop("required",!0),e.addClass("is-required")),i()}function i(){var a,s=!0;o(".condition-check").each(function(e){var t="cmplz_"+o(this).data("condition-question");if(null!=t){var i=o(this).data("condition-answer"),c=o(this).find("input[type=checkbox]");c.length||(c=o(this).find("input")),c.length||(c=o(this).find("textarea")),c.length||(c=o(this).find("select")),c.length&&c[0].hasAttribute("required")&&c.addClass("is-required"),-1!=(i+="").indexOf("NOT ")?(i=i.replace("NOT ",""),s=!1):s=!0,a=function(e){{if("text"==o("input[name^="+e+"]").attr("type"))return o("input[name^="+e+"]").val();var t=[];return o("input[name^="+e+"]:checked").each(function(){t[t.length]=o(this).val()}),t}}(t);var n=!1;o("select[name="+t+"]").length&&(a=Array(o("select[name="+t+"]").val())),o("input[name='"+t+"["+i+"]']").length&&o("input[name='"+t+"["+i+"]']").is(":checked")&&(n=!0,a=[]),s?n||-1!=a.indexOf(i)||a==i?(o(this).removeClass("hidden"),c.hasClass("is-required")&&c.prop("required",!0)):(o(this).addClass("hidden"),c.hasClass("is-required")&&c.prop("required",!1)):a!=i?(o(this).removeClass("hidden"),c.hasClass("is-required")&&c.prop("required",!0)):(o(this).addClass("hidden"),c.hasClass("is-required")&&c.prop("required",!1))}})}t(),e.change(t),i(),o("input").change(function(e){i()}),o("select").change(function(e){i()}),o("textarea").change(function(e){i()}),jQuery(document).ready(function(n){var a=500,s=complianz_admin.progress,o=n(".cmplz-progress-bar"),i=n(".detected-cookies");n("#cmplz_cookie_scan_frame").length&&function c(){var e=document.getElementById("cmplz_cookie_scan_frame"),t=e.contentDocument||e.contentWindow.document;if(!i.find(".cmplz-loader").length&&s<100&&(i.html('<div class="cmplz-loader"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>'),i.addClass("loader")),"complete"!=t.readyState)window.setTimeout(c,a);else{if(e.contentWindow.onload=function(){},100<=s)return;n.get(complianz_admin.admin_url,{action:"get_scan_progress"},function(e){var t;if(e){t=jQuery.parseJSON(e),s=parseInt(t.progress);var i=t.next_page;100<=s?(o.css({width:s+"%"}),n.ajax({type:"GET",url:complianz_admin.admin_url,dataType:"json",data:{action:"load_detected_cookies"},success:function(e){e.success&&(n(".detected-cookies").html(e.cookies),n(".detected-cookies.loader").removeClass("loader"))}})):(o.css({width:s+"%"}),console.log("loading "+i),n("#cmplz_cookie_scan_frame").attr("src",i),window.setTimeout(c,a))}})}}(),o.css({width:s+"%"})}),o(document).on("click",".cmplz-add-to-policy",function(){var e=o(this).closest(".cmplz-custom-privacy-text-container").find(".cmplz-custom-privacy-header").html(),t=o(this).closest(".cmplz-custom-privacy-text-container").find(".cmplz-custom-privacy-text").html();console.log(e),function(e,t,i){void 0===t&&(t=wpActiveEditor);void 0===i&&(i=t);jQuery("#wp-"+t+"-wrap").hasClass("tmce-active")&&tinyMCE.get(t)?tinyMCE.get(t).setContent(e):jQuery("#"+i).val(e)}(function(e,t){void 0===e&&(e=wpActiveEditor);void 0===t&&(t=e);return jQuery("#wp-"+e+"-wrap").hasClass("tmce-active")&&tinyMCE.get(e)?tinyMCE.get(e).getContent():jQuery("#"+t).val()}("cmplz_custom_privacy_policy_text")+"<h3>"+e+"</h3>"+t,"cmplz_custom_privacy_policy_text")}),window.setTimeout(function(){o(".cmplz-notice-success").fadeTo(500,0).slideUp(500,function(){o(this).remove()})},2e3)});